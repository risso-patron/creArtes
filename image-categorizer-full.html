<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Categorizador de Portafolio - Studio CreArtes</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: #0d0d0d;
            color: #ffffff;
            padding: 2rem 1rem;
        }
        
        .header {
            text-align: center;
            margin-bottom: 3rem;
            padding: 2rem;
            background: linear-gradient(135deg, #077a7a, #099999);
            border-radius: 12px;
        }
        
        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
        }
        
        .header p {
            opacity: 0.9;
            font-size: 1.1rem;
        }
        
        .header small {
            display: block;
            margin-top: 0.5rem;
            font-size: 0.95rem;
            opacity: 0.9;
        }
        
        .instructions {
            background: #1a1a1a;
            padding: 2rem;
            border-radius: 12px;
            margin-bottom: 2rem;
            border-left: 4px solid #077a7a;
        }
        
        .instructions h2 {
            color: #077a7a;
            margin-bottom: 1rem;
        }
        
        .instructions ol {
            margin-left: 1.5rem;
            line-height: 1.8;
        }
        
        .instructions ul {
            margin-top: 0.5rem;
            margin-left: 1.5rem;
            line-height: 1.6;
        }
        
        .alert {
            margin-top: 1rem;
            padding: 1rem;
            border-radius: 8px;
            border-left: 4px solid;
        }
        
        .alert-info {
            background: rgba(7, 122, 122, 0.2);
            border-color: #077a7a;
        }
        
        .alert-warning {
            background: rgba(245, 158, 11, 0.15);
            border-color: #f59e0b;
        }
        
        .gallery {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 2rem;
            margin-bottom: 3rem;
        }
        
        .image-card {
            background: #1a1a1a;
            border-radius: 12px;
            overflow: hidden;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            border: 3px solid #2a2a2a;
        }
        
        .image-card.complete {
            border-color: #077a7a;
        }
        
        .image-wrapper {
            position: relative;
            width: 100%;
            height: 250px;
            background: #000;
            overflow: hidden;
        }
        
        .image-wrapper img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .completion-badge {
            position: absolute;
            top: 10px;
            right: 10px;
            background: #10b981;
            color: white;
            padding: 0.25rem 0.75rem;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 600;
            display: none;
        }
        
        .image-card.complete .completion-badge {
            display: block;
        }
        
        .image-info {
            padding: 1.5rem;
        }
        
        .image-number {
            font-size: 0.85rem;
            color: #a0a0a0;
            margin-bottom: 1rem;
            font-weight: 600;
        }
        
        .form-field {
            margin-bottom: 1rem;
        }
        
        .form-field label {
            display: block;
            font-size: 0.9rem;
            color: #e0e0e0;
            margin-bottom: 0.5rem;
            font-weight: 500;
        }
        
        .optional-tag {
            font-size: 0.75rem;
            color: #666666;
            font-style: italic;
            font-weight: normal;
        }
        
        .form-field select,
        .form-field input,
        .form-field textarea {
            width: 100%;
            padding: 0.75rem;
            background: #2a2a2a;
            border: 2px solid #3a3a3a;
            border-radius: 8px;
            color: #ffffff;
            font-size: 0.95rem;
            font-family: inherit;
            transition: all 0.3s ease;
        }
        
        .form-field select:focus,
        .form-field input:focus,
        .form-field textarea:focus {
            outline: none;
            border-color: #077a7a;
            background: #333333;
        }
        
        .form-field textarea {
            resize: vertical;
            min-height: 80px;
            line-height: 1.5;
        }
        
        .form-field input::placeholder,
        .form-field textarea::placeholder {
            color: #666666;
        }
        
        .actions {
            position: sticky;
            bottom: 0;
            background: linear-gradient(135deg, #077a7a, #099999);
            padding: 2rem;
            border-radius: 12px;
            display: flex;
            gap: 1rem;
            align-items: center;
            justify-content: space-between;
            box-shadow: 0 -4px 20px rgba(0, 0, 0, 0.5);
            flex-wrap: wrap;
        }
        
        .progress {
            flex: 1;
            min-width: 250px;
        }
        
        .progress-text {
            font-size: 1.1rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
        }
        
        .progress-bar {
            width: 100%;
            height: 10px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 5px;
            overflow: hidden;
        }
        
        .progress-fill {
            height: 100%;
            background: #ffffff;
            transition: width 0.3s ease;
            width: 0%;
        }
        
        .btn {
            padding: 1rem 2rem;
            border: none;
            border-radius: 8px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .btn-primary {
            background: #ffffff;
            color: #077a7a;
        }
        
        .btn-primary:hover:not(:disabled) {
            background: #f0f0f0;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
        }
        
        .btn-primary:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        
        .btn-send-email {
            background: linear-gradient(135deg, #077a7a 0%, #055555 100%);
            color: white;
            margin-top: 1rem;
        }
        
        .btn-send-email:hover:not(:disabled) {
            background: linear-gradient(135deg, #099999 0%, #077a7a 100%);
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(7, 122, 122, 0.4);
        }
        
        .btn-send-email:disabled {
            opacity: 0.6;
            cursor: wait;
        }
        
        .send-status {
            margin-top: 1rem;
            padding: 1rem;
            border-radius: 8px;
            text-align: center;
            font-weight: 600;
            display: none;
        }
        
        .send-status.success {
            background: rgba(16, 185, 129, 0.2);
            border: 2px solid #10b981;
            color: #10b981;
            display: block;
        }
        
        .send-status.error {
            background: rgba(239, 68, 68, 0.2);
            border: 2px solid #ef4444;
            color: #ef4444;
            display: block;
        }
        
        .modal {
            display: none;
            position: fixed;
            inset: 0;
            background: rgba(0, 0, 0, 0.95);
            z-index: 9999;
            align-items: center;
            justify-content: center;
            padding: 2rem;
        }
        
        .modal.active {
            display: flex;
        }
        
        .modal-content {
            background: #1a1a1a;
            padding: 3rem;
            border-radius: 12px;
            max-width: 900px;
            width: 100%;
            max-height: 80vh;
            overflow-y: auto;
        }
        
        .modal h2 {
            color: #077a7a;
            margin-bottom: 1.5rem;
            font-size: 2rem;
        }
        
        .output-section {
            background: #000;
            padding: 2rem;
            border-radius: 8px;
            margin: 1.5rem 0;
            font-family: 'Courier New', monospace;
            font-size: 0.9rem;
            line-height: 1.8;
            overflow-x: auto;
            border: 2px solid #077a7a;
            white-space: pre-wrap;
            word-wrap: break-word;
        }
        
        .btn-copy {
            background: #077a7a;
            color: white;
            margin-top: 1rem;
        }
        
        .btn-copy:hover {
            background: #099999;
        }
        
        @media (max-width: 768px) {
            body {
                padding: 1rem 0.5rem;
            }
            
            .header h1 {
                font-size: 1.8rem;
            }
            
            .gallery {
                grid-template-columns: 1fr;
            }
            
            .actions {
                flex-direction: column;
            }
            
            .progress {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>üé® Categorizador de Portafolio</h1>
        <p>Studio CreArtes - Organiza tu portafolio profesional</p>
        <small>‚è±Ô∏è Tiempo estimado: 20-30 minutos | üíæ Tu progreso se guarda autom√°ticamente</small>
    </div>
    
    <div class="instructions">
        <h2>üìã Instrucciones</h2>
        <ol>
            <li><strong>Revisa cada imagen</strong> y completa la informaci√≥n:
                <ul>
                    <li>‚úÖ Categor√≠a (obligatorio)</li>
                    <li>‚úÖ Nombre del proyecto/cliente (obligatorio)</li>
                    <li>‚úÖ Descripci√≥n breve (obligatorio)</li>
                    <li>‚≠ê A√±o y resultados (opcional pero muy recomendado)</li>
                </ul>
            </li>
            <li><strong>Observa la tarjeta:</strong> Se marcar√° en verde cuando est√© completa</li>
            <li><strong>Cuando termines</strong>, haz clic en "Generar Informaci√≥n Completa"</li>
            <li><strong>Copia todo</strong> y env√≠alo por WhatsApp o email</li>
        </ol>
        
        <div class="alert alert-info">
            üí° <strong>No te preocupes:</strong> Tu progreso se guarda autom√°ticamente. Puedes cerrar la p√°gina y volver despu√©s sin perder tu trabajo.
        </div>
        
        <div class="alert alert-warning">
            ‚≠ê <strong>Mientras m√°s detalles agregues, mejor se ver√° tu portafolio!</strong> Los clientes valoran ver casos reales con resultados espec√≠ficos.
        </div>
    </div>
    
    <div class="gallery" id="gallery"></div>
    
    <div class="actions">
        <div class="progress">
            <div class="progress-text">Progreso: <span id="progressText">0/41</span> proyectos completos</div>
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
            </div>
        </div>
        <button class="btn btn-primary" id="generateBtn" disabled>Generar Informaci√≥n Completa</button>
    </div>
    
    <div class="modal" id="modal">
        <div class="modal-content">
            <h2>‚úÖ Informaci√≥n Completa Generada</h2>
            <p>Env√≠a autom√°ticamente los datos al dise√±ador o c√≥pialos manualmente:</p>
            <div class="output-section" id="dataOutput"></div>
            <button class="btn btn-send-email" id="sendEmailBtn" onclick="sendEmail()">üìß Enviar al Dise√±ador</button>
            <div class="send-status" id="sendStatus"></div>
            <p style="margin-top: 1.5rem; opacity: 0.7; font-size: 0.9rem;">O copia manualmente:</p>
            <button class="btn btn-copy" onclick="copyData()">üìã Copiar Todo</button>
@            <button class="btn btn-primary" onclick="closeModal()" style="margin-left: 1rem;">Cerrar</button>
        </div>
    </div>
    
    <script>
        const images = [
            "decoracion-navidad.jpeg",
            "fachada-interior-01.jpeg",
            "fachada-interior-02.jpeg",
            "fachada-interior-03.jpeg",
            "fachada-interior-04.jpeg",
            "fachada-optica-rosa.jpeg",
            "fachada-tienda-01.jpeg",
            "fachada-tienda-02.jpeg",
            "fachada-tienda-03.jpeg",
            "fachada-tienda-04.jpeg",
            "hero-entrada-local.jpeg",
            "merchandising-arroz-rico.jpeg",
            "merchandising-etiquetas.jpeg",
            "neon-adriana.jpeg",
            "neon-and-co.jpeg",
            "neon-bambu-rosa.jpeg",
            "neon-bambu-verde.jpeg",
            "neon-cocacola.jpeg",
            "neon-coffee.jpeg",
            "neon-corazon-valentine.jpeg",
            "neon-don-abuelo.jpeg",
            "neon-happy-birthday.jpeg",
            "neon-kirep.jpeg",
            "neon-laroda.jpeg",
            "neon-logo-circular.jpeg",
            "neon-logo-corporativo.jpeg",
            "neon-macrohouse.jpeg",
            "neon-milka.jpeg",
            "neon-mita-burger.jpeg",
            "neon-nuvu.jpeg",
            "neon-safe.jpeg",
            "neon-sharik.jpeg",
            "neon-sweet-rush-rosa.jpeg",
            "neon-tiffanys.jpeg",
            "neon-valleys.jpeg",
            "neon-vamospa-arriba.jpeg",
            "neon-villena.jpeg",
            "neon-vitacek.jpeg",
            "packaging-arroz-rico.jpeg",
            "pop-display.jpeg",
            "rollup-banco-01.jpeg",
            "rollup-banco-02.jpeg",
            "rollup-banco-03.jpeg",
            "rotulacion-vehiculo.jpeg",
            "senalizacion-led-01.jpeg",
            "senalizacion-led-02.jpeg"
        ];
        
        // LocalStorage functions
        function loadDataFromStorage(index) {
            const saved = localStorage.getItem(`project-${index}`);
            if (saved) {
                return JSON.parse(saved);
            }
            return {
                category: 'sin-categorizar',
                projectName: '',
                description: '',
                year: '',
                results: '',
                filename: images[index]
            };
        }
        
        function saveDataToStorage(index, data) {
            localStorage.setItem(`project-${index}`, JSON.stringify(data));
        }
        
        function isProjectComplete(data) {
            return data.category !== 'sin-categorizar' && 
                   data.projectName.trim() !== '' && 
                   data.description.trim() !== '';
        }
        
        function createImageCard(imageName, index) {
            const savedData = loadDataFromStorage(index);
            const isComplete = isProjectComplete(savedData);
            
            const card = document.createElement('div');
            card.className = `image-card ${isComplete ? 'complete' : ''}`;
            card.dataset.index = index;
            
            card.innerHTML = `
                <div class="image-wrapper">
                    <img src="crearte/${imageName}" alt="Proyecto ${index + 1}" loading="lazy">
                    <div class="completion-badge">‚úì Completo</div>
                </div>
                <div class="image-info">
                    <div class="image-number">üì∏ Imagen ${index + 1} de 41</div>
                    
                    <div class="form-field">
                        <label>Categor√≠a *</label>
                        <select class="project-category" data-index="${index}">
                            <option value="sin-categorizar" ${savedData.category === 'sin-categorizar' ? 'selected' : ''}>‚ùì Selecciona una categor√≠a...</option>
                            <option value="marca" ${savedData.category === 'marca' ? 'selected' : ''}>üé® Soluciones de Marca</option>
                            <option value="produccion" ${savedData.category === 'produccion' ? 'selected' : ''}>üñ®Ô∏è Producci√≥n Gr√°fica</option>
                            <option value="senalizacion" ${savedData.category === 'senalizacion' ? 'selected' : ''}>üí° Comunicaci√≥n Visual</option>
                            <option value="digital" ${savedData.category === 'digital' ? 'selected' : ''}>üöÄ Experiencias Digitales</option>
                        </select>
                    </div>
                    
                    <div class="form-field">
                        <label>Nombre del Proyecto/Cliente *</label>
                        <input type="text" 
                               class="project-name" 
                               data-index="${index}" 
                               placeholder="Ej: Panader√≠a Don Jos√©, Campa√±a Navide√±a 2024"
                               value="${savedData.projectName}">
                    </div>
                    
                    <div class="form-field">
                        <label>Descripci√≥n Breve *</label>
                        <textarea class="project-description" 
                                  data-index="${index}" 
                                  placeholder="Describe el trabajo realizado. Ej: Dise√±o completo de identidad visual incluyendo logo, men√∫, se√±al√©tica y empaques para productos de panader√≠a artesanal">${savedData.description}</textarea>
                    </div>
                    
                    <div class="form-field">
                        <label>A√±o <span class="optional-tag">(opcional)</span></label>
                        <input type="text" 
                               class="project-year" 
                               data-index="${index}" 
                               placeholder="2024"
                               maxlength="4"
                               value="${savedData.year}">
                    </div>
                    
                    <div class="form-field">
                        <label>Resultados Obtenidos <span class="optional-tag">(opcional pero recomendado)</span></label>
                        <input type="text" 
                               class="project-results" 
                               data-index="${index}" 
                               placeholder="Ej: Aumento del 40% en ventas, Presencia en 3 ciudades, 5000+ seguidores en redes"
                               value="${savedData.results}">
                    </div>
                </div>
            `;
            
            return card;
        }
        
        function updateProjectData(index) {
            const card = document.querySelector(`.image-card[data-index="${index}"]`);
            const data = {
                category: card.querySelector('.project-category').value,
                projectName: card.querySelector('.project-name').value,
                description: card.querySelector('.project-description').value,
                year: card.querySelector('.project-year').value,
                results: card.querySelector('.project-results').value,
                filename: images[index]
            };
            
            saveDataToStorage(index, data);
            
            // Update card visual state
            if (isProjectComplete(data)) {
                card.classList.add('complete');
            } else {
                card.classList.remove('complete');
            }
            
            updateProgress();
        }
        
        function updateProgress() {
            let complete = 0;
            for (let i = 0; i < 41; i++) {
                const data = loadDataFromStorage(i);
                if (isProjectComplete(data)) {
                    complete++;
                }
            }
            
            const percentage = (complete / 41) * 100;
            document.getElementById('progressText').textContent = `${complete}/41`;
            document.getElementById('progressFill').style.width = `${percentage}%`;
            document.getElementById('generateBtn').disabled = complete === 0;
        }
        
        function initGallery() {
            const gallery = document.getElementById('gallery');
            images.forEach((img, index) => {
                const card = createImageCard(img, index);
                gallery.appendChild(card);
                
                // Add event listeners
                card.querySelector('.project-category').addEventListener('change', () => updateProjectData(index));
                card.querySelector('.project-name').addEventListener('input', () => updateProjectData(index));
                card.querySelector('.project-description').addEventListener('input', () => updateProjectData(index));
                card.querySelector('.project-year').addEventListener('input', () => updateProjectData(index));
                card.querySelector('.project-results').addEventListener('input', () => updateProjectData(index));
            });
            
            updateProgress();
        }
        
        function generateOutput() {
            const projects = [];
            
            for (let i = 0; i < 41; i++) {
                const data = loadDataFromStorage(i);
                if (isProjectComplete(data)) {
                    projects.push(data);
                }
            }
            
            // Group by category
            const categories = {
                marca: [],
                produccion: [],
                senalizacion: [],
                digital: []
            };
            
            projects.forEach(project => {
                if (categories[project.category]) {
                    categories[project.category].push(project);
                }
            });
            
            // Generate output
            let output = '‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê\n';
            output += '  STUDIO CREARTES - PORTAFOLIO\n';
            output += '  Informaci√≥n de Proyectos Completados\n';
            output += '‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê\n\n';
            output += `üìä Total de proyectos completados: ${projects.length} de 41\n`;
            output += `üìÖ Fecha de env√≠o: ${new Date().toLocaleDateString('es-PA', { year: 'numeric', month: 'long', day: 'numeric' })}\n\n`;
            
            for (const [category, items] of Object.entries(categories)) {
                if (items.length > 0) {
                    const categoryNames = {
                        marca: 'üé® SOLUCIONES DE MARCA',
                        produccion: 'üñ®Ô∏è PRODUCCI√ìN GR√ÅFICA & PUBLICITARIA',
                        senalizacion: 'üí° COMUNICACI√ìN VISUAL & SE√ëALIZACI√ìN',
                        digital: 'üöÄ EXPERIENCIAS DIGITALES & ACTIVACIONES'
                    };
                    
                    output += `\n${'='.repeat(50)}\n`;
                    output += `${categoryNames[category]} (${items.length} ${items.length === 1 ? 'proyecto' : 'proyectos'})\n`;
                    output += `${'='.repeat(50)}\n\n`;
                    
                    items.forEach((project, idx) => {
                        output += `${idx + 1}. ${project.projectName.toUpperCase()}\n`;
                        output += `   Archivo: ${project.filename}\n`;
                        output += `   Descripci√≥n: ${project.description}\n`;
                        if (project.year) {
                            output += `   A√±o: ${project.year}\n`;
                        }
                        if (project.results) {
                            output += `   Resultados: ${project.results}\n`;
                        }
                        output += '\n';
                    });
                }
            }
            
            output += '\n' + '‚ïê'.repeat(50) + '\n';
            output += 'FIN DEL DOCUMENTO\n';
            output += '‚ïê'.repeat(50) + '\n';
            
            document.getElementById('dataOutput').textContent = output;
            document.getElementById('modal').classList.add('active');
        }
        
        function copyData() {
            const data = document.getElementById('dataOutput').textContent;
            navigator.clipboard.writeText(data).then(() => {
                alert('‚úÖ Informaci√≥n copiada al portapapeles!\n\nAhora puedes pegarla en WhatsApp o Email.');
            });
        }
        
        function closeModal() {
            document.getElementById('modal').classList.remove('active');
            document.getElementById('sendStatus').className = 'send-status';
        }
        
        async function sendEmail() {
            const sendBtn = document.getElementById('sendEmailBtn');
            const statusDiv = document.getElementById('sendStatus');
            const outputText = document.getElementById('dataOutput').innerText;
            
            sendBtn.disabled = true;
            sendBtn.textContent = '‚è≥ Enviando...';
            statusDiv.className = 'send-status';
            
            try {
                const response = await fetch('https://api.web3forms.com/submit', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Accept': 'application/json'
                    },
                    body: JSON.stringify({
                        access_key: 'db51e9ac-307b-4e45-88ab-560aa8e20198',
                        subject: 'Studio CreArtes - Categorizaci√≥n de Portafolio Completo',
                        from_name: 'Cliente CreArtes',
                        to: 'luisrissopa@gmail.com',
                        message: outputText
                    })
                });
                
                const result = await response.json();
                
                if (result.success) {
                    statusDiv.className = 'send-status success';
                    statusDiv.innerHTML = '‚úÖ ¬°Datos enviados exitosamente!<br><small>El dise√±ador recibir√° tu informaci√≥n en breve.</small>';
                    sendBtn.style.display = 'none';
                } else {
                    throw new Error('Error en el env√≠o');
                }
            } catch (error) {
                statusDiv.className = 'send-status error';
                statusDiv.innerHTML = '‚ùå Error al enviar. Por favor, usa el bot√≥n "Copiar Todo" y env√≠a por WhatsApp.';
                sendBtn.disabled = false;
                sendBtn.textContent = 'üìß Reintentar Env√≠o';
            }
        }
        
        document.getElementById('generateBtn').addEventListener('click', generateOutput);
        
        // Initialize
        initGallery();
    </script>
</body>
</html>
